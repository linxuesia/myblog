## 安装

首先确保安装好`node`环境，全局安装了`vue-cli`。进入项目文件夹下，或者新建一个空的文件夹，执行`vue init mpvue/mpvue-quickstart my-project `，初始化 mpvue 的模板。初始化的选项和`vue-cli`的初始化差不多，根据需要自行选择，默认的话就一直按回车就好啦。  

初始化完成之后，执行`npm i`重新安装一下项目依赖，然后执行`npm run dev`项目就正常运行了。



## 运行项目

打开微信开发者工具可以预览效果，因为在微信开发者编辑器里面开发有点不太智能，所以我们可以把编辑器选项关掉，只显示调试和预览。然后用自己熟悉的开发工具打开项目，因为它用的是`webpack`编译加载热替换，所以修改了之后也能实时刷新。

需要注意的是，每次新建一个页面之后，需要重新开启`npm run dev`来编译，也很好理解，入口文件都发生变化了嘛，肯定要重新编译啊。



## 项目结构分析

和`vue-cli`的文档完全一样，src 目录放资源，static 目录放置静态资源，如图片、字体等，所以有过`vue-cli`项目开发经验的朋友会觉得非常好上手，基本上使用是一样一样的~

它主要是在 webpack 编译的过程中，将文件打包成微信小程序默认的文件夹格式，有兴趣的可以研究一下它的 webpack 配置文件，动手能力强的也可以自己配置。webpack 没那么熟练的话，就用初始化的模板就行了，是已经配置好的，看下代码理解一下思路也是OK的，这样也节省时间。

在 src 文件夹的根路径下，App.vue编译出来的就是对应小程序里面的 app.js 和 app.wxss 。main.js 输出的代码会被编译进 app.json ，用来做一些全局的配置，比如`window`和`tab`配置，写法和小程序一样的，但是小程序是以 json 的形式，而 mpvue 里面是在 js 文件里面，所以是对象的写法，即不加双引号，其他都一样。



## mpvue 与 vue 语法异同

* `v-html`指令不能用
* 不支持使用 vue 过滤器
* 列表渲染在嵌套渲染的时候，必须使用不同的 index 和 item 别名。
* 不支持在组件上直接写 class 类名，在 vue 组件里面写它会和组件内的顶级元素的class合并，但是在 mvue 里面不能用这种写法，组件的类名只能在组件上面定义。
* 



# memo

* 小程序tab下面的图标的图片没有的话 不能编译
* 跳转页面还是用a链接，会编译成navigator组件，用相对路径的写法`'../page/main'`
* 那么如果是 js 跳转呢，怎么写？location.href 吗还是用小程序的 api 呢？
* data 里面尽量不要放冗余数据，比如后台返回一堆数据给你，你需要的只有其中几个，就只取其中几个，不要全部赋值到 data 上面，不然速度会变慢。

